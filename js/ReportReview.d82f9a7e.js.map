{"version":3,"sources":["webpack:///./src/views/UserCenter/ReportReview.vue?f3ac","webpack:///./src/views/UserCenter/ReportReview.vue?722e","webpack:///src/views/UserCenter/ReportReview.vue","webpack:///./src/views/UserCenter/ReportReview.vue?d620","webpack:///./src/views/UserCenter/ReportReview.vue?fc57"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","reports","length","textAlign","scopedSlots","_u","key","fn","slotProps","staticClass","_s","data","userId","on","$event","showReport","deleteReport","_id","_e","dialogDisplay","staticStyle","dialog","title","text","staticRenderFns","name","methods","report","component"],"mappings":"gHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,UAAWP,EAAIQ,QAAQC,OAAS,EAAGL,EAAG,YAAY,CAACE,MAAM,CAAC,YAAc,GAAG,MAAQN,EAAIQ,UAAU,CAACJ,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,QAAQ,UAAY,CAAEI,UAAW,WAAYC,YAAYX,EAAIY,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,SAASC,GAAW,MAAO,CAACX,EAAG,OAAO,CAACY,YAAY,YAAY,CAAChB,EAAIO,GAAGP,EAAIiB,GAAGF,EAAUG,KAAKC,eAAe,MAAK,EAAM,cAAcf,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,QAAQ,OAAS,KAAK,UAAY,CAAEI,UAAW,aAAcN,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAK,UAAY,CAAEI,UAAW,WAAYC,YAAYX,EAAIY,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,SAASC,GAAW,MAAO,CAACX,EAAG,SAAS,CAACY,YAAY,wCAAwCV,MAAM,CAAC,MAAQ,MAAMc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIsB,WAAWP,EAAUG,UAAUd,EAAG,SAAS,CAACY,YAAY,wDAAwDV,MAAM,CAAC,MAAQ,MAAMc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIuB,aAAaR,EAAUG,KAAKM,aAAa,MAAK,EAAM,eAAe,GAAGxB,EAAIyB,KAAKrB,EAAG,SAAS,CAACE,MAAM,CAAC,QAAUN,EAAI0B,cAAc,SAAW,SAAS,YAAa,EAAM,MAAQ,GAAG,gBAAkB,IAAIN,GAAG,CAAC,iBAAiB,SAASC,GAAQrB,EAAI0B,cAAcL,KAAU,CAACjB,EAAG,MAAM,CAACuB,YAAY,CAAC,aAAa,OAAO,YAAY,SAAS,CAACvB,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIiB,GAAGjB,EAAI4B,OAAOC,UAAUzB,EAAG,IAAI,CAACJ,EAAIO,GAAGP,EAAIiB,GAAGjB,EAAI4B,OAAOE,cAAc,IACx5CC,EAAkB,G,YC2BtB,G,8BAAA,CACEC,KAAM,eACNd,KAFF,WAGI,MAAO,CACLQ,eAAe,EACflB,QAAS,GACToB,OAAQ,CACNC,MAAO,GACPC,KAAM,MAIZG,QAAS,CACPX,WADJ,SACA,GACMrB,KAAKyB,eAAgB,EACrBzB,KAAK2B,OAAOC,MAAQK,EAAOL,MAC3B5B,KAAK2B,OAAOE,KAAOI,EAAOJ,MAE5B,aANJ,SAMA,0LAEA,SACA,eACA,iBACA,sBALA,UAEA,EAFA,QAOA,cAPA,iEASA,+CACA,SACA,4CAXA,OAeA,4DAEA,SACA,eACA,WACA,cApBA,qDAuBA,SACA,aACA,WACA,kCA1BA,8DA+BE,QAjDF,WAiDA,yLAEA,uCACA,SACA,4CAJA,gBAEA,EAFA,EAEA,KAKA,mBAPA,mDASA,SACA,aACA,WACA,kCAZA,8DC7EqW,I,wBCQjWK,EAAY,eACd,EACApC,EACAgC,GACA,EACA,KACA,KACA,MAIa,aAAAI,E","file":"js/ReportReview.d82f9a7e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportReview.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ReportReview\"}},[_c('h1',[_vm._v(\"用戶回報\")]),(_vm.reports.length > 0)?_c('DataTable',{attrs:{\"stripedRows\":\"\",\"value\":_vm.reports}},[_c('Column',{attrs:{\"header\":\"用戶 ID\",\"bodyStyle\":{ textAlign: 'center' }},scopedSlots:_vm._u([{key:\"body\",fn:function(slotProps){return [_c('span',{staticClass:\"authorId\"},[_vm._v(_vm._s(slotProps.data.userId))])]}}],null,false,3378951429)}),_c('Column',{attrs:{\"field\":\"title\",\"header\":\"標題\",\"bodyStyle\":{ textAlign: 'center' }}}),_c('Column',{attrs:{\"header\":\"操作\",\"bodyStyle\":{ textAlign: 'center' }},scopedSlots:_vm._u([{key:\"body\",fn:function(slotProps){return [_c('Button',{staticClass:\"p-button-rounded p-button-raised mx-1\",attrs:{\"label\":\"查看\"},on:{\"click\":function($event){return _vm.showReport(slotProps.data)}}}),_c('Button',{staticClass:\"p-button-rounded p-button-raised p-button-danger mx-1\",attrs:{\"label\":\"刪除\"},on:{\"click\":function($event){return _vm.deleteReport(slotProps.data._id)}}})]}}],null,false,3563561908)})],1):_vm._e(),_c('Dialog',{attrs:{\"visible\":_vm.dialogDisplay,\"position\":\"center\",\"showHeader\":false,\"modal\":\"\",\"dismissableMask\":\"\"},on:{\"update:visible\":function($event){_vm.dialogDisplay=$event}}},[_c('div',{staticStyle:{\"max-height\":\"70vh\",\"min-width\":\"60vw\"}},[_c('h2',[_vm._v(_vm._s(_vm.dialog.title))]),_c('p',[_vm._v(_vm._s(_vm.dialog.text))])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"ReportReview\">\n    <h1>用戶回報</h1>\n    <DataTable v-if=\"reports.length > 0\" stripedRows :value=\"reports\">\n      <Column header=\"用戶 ID\" :bodyStyle=\"{ textAlign: 'center' }\">\n        <template #body=\"slotProps\">\n          <span class=\"authorId\">{{ slotProps.data.userId }}</span>\n        </template>\n      </Column>\n      <Column field=\"title\" header=\"標題\" :bodyStyle=\"{ textAlign: 'center' }\"/>\n      <Column header=\"操作\" :bodyStyle=\"{ textAlign: 'center' }\">\n        <template #body=\"slotProps\">\n          <Button label=\"查看\" @click=\"showReport(slotProps.data)\" class=\"p-button-rounded p-button-raised mx-1\"/>\n          <Button label=\"刪除\" @click=\"deleteReport(slotProps.data._id)\" class=\"p-button-rounded p-button-raised p-button-danger mx-1\"/>\n        </template>\n      </Column>\n    </DataTable>\n\n    <Dialog :visible.sync=\"dialogDisplay\" position=\"center\" :showHeader=\"false\" modal dismissableMask>\n      <div style=\"max-height: 70vh; min-width: 60vw\">\n        <h2>{{ dialog.title }}</h2>\n        <p>{{ dialog.text }}</p>\n      </div>\n    </Dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ReportReview',\n  data () {\n    return {\n      dialogDisplay: false,\n      reports: [],\n      dialog: {\n        title: '',\n        text: ''\n      }\n    }\n  },\n  methods: {\n    showReport (report) {\n      this.dialogDisplay = true\n      this.dialog.title = report.title\n      this.dialog.text = report.text\n    },\n    async deleteReport (reportId) {\n      try {\n        const result = await this.$swal({\n          icon: 'warning',\n          title: '是否確定要刪除?',\n          showCancelButton: true\n        })\n        if (result.isDismissed) return\n\n        await this.serverAPI.delete('/reports/deleteReport/' + reportId, {\n          headers: {\n            authorization: 'Bearer ' + this.userInfo.token\n          }\n        })\n\n        this.reports = this.reports.filter(report => report._id !== reportId)\n\n        this.$swal({\n          icon: 'success',\n          title: '成功',\n          text: '成功刪除'\n        })\n      } catch (error) {\n        this.$swal({\n          icon: 'error',\n          title: '失敗',\n          text: error.response.data.message\n        })\n      }\n    }\n  },\n  async created () {\n    try {\n      const { data } = await this.serverAPI.get('/reports/getReports', {\n        headers: {\n          authorization: 'Bearer ' + this.userInfo.token\n        }\n      })\n      this.reports = data.result\n    } catch (error) {\n      this.$swal({\n        icon: 'error',\n        title: '錯誤',\n        text: error.response.data.message\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n#ReportReview {\n  .authorId {\n    font-size: 10px;\n  }\n\n  .p-column-header-content {\n    justify-content: center;\n  }\n}\n\n@media (min-width: 768px) {\n  #ReportReview {\n    .authorId {\n      font-size: 1rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportReview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportReview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportReview.vue?vue&type=template&id=043ad023&\"\nimport script from \"./ReportReview.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportReview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReportReview.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}