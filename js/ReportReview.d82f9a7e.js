(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ReportReview"],{"1b27":function(e,t,r){"use strict";r("dc78")},"46c0":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"ReportReview"}},[r("h1",[e._v("用戶回報")]),e.reports.length>0?r("DataTable",{attrs:{stripedRows:"",value:e.reports}},[r("Column",{attrs:{header:"用戶 ID",bodyStyle:{textAlign:"center"}},scopedSlots:e._u([{key:"body",fn:function(t){return[r("span",{staticClass:"authorId"},[e._v(e._s(t.data.userId))])]}}],null,!1,3378951429)}),r("Column",{attrs:{field:"title",header:"標題",bodyStyle:{textAlign:"center"}}}),r("Column",{attrs:{header:"操作",bodyStyle:{textAlign:"center"}},scopedSlots:e._u([{key:"body",fn:function(t){return[r("Button",{staticClass:"p-button-rounded p-button-raised mx-1",attrs:{label:"查看"},on:{click:function(r){return e.showReport(t.data)}}}),r("Button",{staticClass:"p-button-rounded p-button-raised p-button-danger mx-1",attrs:{label:"刪除"},on:{click:function(r){return e.deleteReport(t.data._id)}}})]}}],null,!1,3563561908)})],1):e._e(),r("Dialog",{attrs:{visible:e.dialogDisplay,position:"center",showHeader:!1,modal:"",dismissableMask:""},on:{"update:visible":function(t){e.dialogDisplay=t}}},[r("div",{staticStyle:{"max-height":"70vh","min-width":"60vw"}},[r("h2",[e._v(e._s(e.dialog.title))]),r("p",[e._v(e._s(e.dialog.text))])])])],1)},a=[],s=r("1da1"),o=(r("96cf"),r("4de4"),r("d3b7"),{name:"ReportReview",data:function(){return{dialogDisplay:!1,reports:[],dialog:{title:"",text:""}}},methods:{showReport:function(e){this.dialogDisplay=!0,this.dialog.title=e.title,this.dialog.text=e.text},deleteReport:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$swal({icon:"warning",title:"是否確定要刪除?",showCancelButton:!0});case 3:if(n=r.sent,!n.isDismissed){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,t.serverAPI.delete("/reports/deleteReport/"+e,{headers:{authorization:"Bearer "+t.userInfo.token}});case 8:t.reports=t.reports.filter((function(t){return t._id!==e})),t.$swal({icon:"success",title:"成功",text:"成功刪除"}),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),t.$swal({icon:"error",title:"失敗",text:r.t0.response.data.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.serverAPI.get("/reports/getReports",{headers:{authorization:"Bearer "+e.userInfo.token}});case 3:r=t.sent,n=r.data,e.reports=n.result,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),i=o,l=(r("1b27"),r("2877")),u=Object(l["a"])(i,n,a,!1,null,null,null);t["default"]=u.exports},dc78:function(e,t,r){}}]);
//# sourceMappingURL=ReportReview.d82f9a7e.js.map