(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["JoinGame"],{c1b7:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"joinGame"}},[o("Title",{scopedSlots:e._u([{key:"text",fn:function(){return[e._v(" 加入遊戲 ")]},proxy:!0}])}),o("div",{staticClass:"subViewBox"},[o("div",{staticClass:"mx-auto",staticStyle:{width:"max-content","text-align":"center"}},[o("div",{staticClass:"d-flex flex-column flex-md-row align-items-center mb-2"},[o("span",{staticClass:"mb-2 mb-md-0"},[e._v("您的暱稱")]),o("InputText",{staticClass:"ms-md-3 flex-grow-1",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.joinRoom.apply(null,arguments)}},model:{value:e.playerName,callback:function(t){e.playerName=t},expression:"playerName"}})],1),!e.$v.playerName.required&&e.$v.playerName.$error?o("div",{staticClass:"invalidMsg mb-3"},[e._v("暱稱必填")]):e._e(),o("div",{staticClass:"d-flex flex-column flex-md-row align-items-center mb-2"},[o("span",{staticClass:"mb-2 mb-md-0"},[e._v("遊戲間 ID")]),o("InputText",{staticClass:"ms-md-3 flex-grow-1",attrs:{maxlength:"6"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.joinRoom.apply(null,arguments)}},model:{value:e.roomId,callback:function(t){e.roomId=t},expression:"roomId"}})],1),!e.$v.roomId.required&&e.$v.roomId.$error?o("div",{staticClass:"invalidMsg mb-3"},[e._v("遊戲間 ID 必填")]):e._e(),!e.$v.roomId.minLength&&e.$v.roomId.$error?o("div",{staticClass:"invalidMsg mb-3"},[e._v("遊戲間 ID 長度為 "+e._s(e.$v.roomId.$params.minLength.min))]):e._e(),o("Button",{staticClass:"p-button-rounded p-button-raised mt-3",attrs:{label:"加入"},on:{click:e.joinRoom}})],1)]),o("Toast",{attrs:{position:"top-center"}})],1)},r=[],a=o("b5ae"),i={name:"CreateGame",data:function(){return{playerName:"",roomId:""}},validations:{playerName:{required:a["required"]},roomId:{required:a["required"],minLength:Object(a["minLength"])(6)}},methods:{joinRoom:function(){this.$v.$touch(),this.$v.$error?this.$toast.add({severity:"error",summary:"錯誤",detail:"缺少必要項目",life:3e3}):this.$socket.connected&&this.$socket.emit("joinRoom",{playerId:this.userInfo._id,playerName:this.playerName,avatar:this.userInfo.avatar,roomId:this.roomId})}},sockets:{joinRoomSuccess:function(){this.$router.push("/room")}},created:function(){this.userInfo.nickname?this.playerName=this.userInfo.nickname:this.playerName=this.userInfo.account},beforeRouteEnter:function(e,t,o){o((function(e){e.$socket.connected?o("/room"):(e.$route.query.roomId&&(e.roomId=e.$route.query.roomId),e.$socket.connect())}))},beforeRouteLeave:function(e,t,o){"/room"!==e.path&&this.$socket.disconnect(),o()}},s=i,m=o("2877"),l=Object(m["a"])(s,n,r,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=JoinGame.8fa0b610.js.map