(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BugReport"],{c94f:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"bugReport"}},[r("div",{staticClass:"d-flex flex-column justify-content-center align-items-center mb-3"},[r("h1",[e._v("錯誤回報")]),r("div",{staticClass:"d-flex flex-column flex-md-row align-items-center mb-3"},[r("span",{staticClass:"mb-2 mb-md-0"},[e._v("標題")]),r("InputText",{staticClass:"ms-md-3 flex-grow-1",model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),r("Textarea",{staticStyle:{width:"80%",height:"150px",resize:"none","border-radius":"0"},attrs:{placeholder:"錯誤描述"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),r("Button",{staticClass:"p-button-rounded p-button-raised",attrs:{label:"送出",disabled:e.sending},on:{click:e.sendReport}}),r("Toast",{attrs:{position:"top-center"}})],1)},s=[],a=r("1da1"),i=(r("96cf"),r("b5ae")),o={data:function(){return{sending:!1,title:"",text:""}},validations:{title:{required:i["required"]},text:{required:i["required"]}},methods:{sendReport:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.sending){t.next=3;break}return t.abrupt("return");case 3:if(e.$v.$touch(),!e.$v.$error){t.next=7;break}return e.$v.title.$error?e.$toast.add({severity:"error",summary:"錯誤",detail:"標題不可為空",life:3e3}):e.$v.text.$error&&e.$toast.add({severity:"error",summary:"錯誤",detail:"內容不可為空",life:3e3}),t.abrupt("return");case 7:return t.next=9,e.$swal({icon:"warning",title:"是否確定送出?",showCancelButton:!0});case 9:if(r=t.sent,!r.isDismissed){t.next=12;break}return t.abrupt("return");case 12:return e.sending=!0,t.next=15,e.serverAPI.post("/reports/createReport",{title:e.title,text:e.text},{headers:{authorization:"Bearer "+e.userInfo.token}});case 15:e.sending=!1,e.title="",e.text="",e.$swal({icon:"success",title:"成功",text:"送出成功"}),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](0),e.sending=!1,e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))()}}},l=o,c=r("2877"),u=Object(c["a"])(l,n,s,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=BugReport.5308ed10.js.map