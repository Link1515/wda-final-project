{"version":3,"sources":["webpack:///./src/views/UserCenter/BugReport.vue?3c30","webpack:///src/views/UserCenter/BugReport.vue","webpack:///./src/views/UserCenter/BugReport.vue?ff4a","webpack:///./src/views/UserCenter/BugReport.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","model","value","callback","$$v","title","expression","staticStyle","text","sending","on","sendReport","staticRenderFns","data","validations","methods","component"],"mappings":"kHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,MAAM,CAACG,YAAY,qEAAqE,CAACH,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACG,YAAY,0DAA0D,CAACH,EAAG,OAAO,CAACG,YAAY,gBAAgB,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,YAAY,CAACG,YAAY,sBAAsBE,MAAM,CAACC,MAAOV,EAAS,MAAEW,SAAS,SAAUC,GAAMZ,EAAIa,MAAMD,GAAKE,WAAW,YAAY,GAAGV,EAAG,WAAW,CAACW,YAAY,CAAC,MAAQ,MAAM,OAAS,QAAQ,OAAS,OAAO,gBAAgB,KAAKT,MAAM,CAAC,YAAc,QAAQG,MAAM,CAACC,MAAOV,EAAQ,KAAEW,SAAS,SAAUC,GAAMZ,EAAIgB,KAAKJ,GAAKE,WAAW,WAAW,GAAGV,EAAG,SAAS,CAACG,YAAY,mCAAmCD,MAAM,CAAC,MAAQ,KAAK,SAAWN,EAAIiB,SAASC,GAAG,CAAC,MAAQlB,EAAImB,cAAcf,EAAG,QAAQ,CAACE,MAAM,CAAC,SAAW,iBAAiB,IACt5Bc,EAAkB,G,oCCiBtB,GACEC,KADF,WAEI,MAAO,CACLJ,SAAS,EACTJ,MAAO,GACPG,KAAM,KAGVM,YAAa,CACXT,MAAO,CAAX,wBACIG,KAAM,CAAV,yBAEEO,QAAS,CACP,WADJ,WACA,2KAEA,UAFA,oDAIA,eACA,YALA,uBAMA,kBACA,uEACA,kBACA,uEATA,0CAcA,SACA,eACA,gBACA,sBAjBA,UAcA,EAdA,QAmBA,cAnBA,0DAqBA,aArBA,UAsBA,yCACA,CACA,cACA,aACA,CACA,SACA,4CA5BA,QA+BA,aAEA,WACA,UAEA,SACA,eACA,WACA,cAvCA,qDA0CA,aAEA,SACA,aACA,WACA,kCA/CA,+DC/BkW,I,YCO9VC,EAAY,eACd,EACAzB,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAAI,E","file":"js/BugReport.5308ed10.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bugReport\"}},[_c('div',{staticClass:\"d-flex flex-column justify-content-center align-items-center mb-3\"},[_c('h1',[_vm._v(\"錯誤回報\")]),_c('div',{staticClass:\"d-flex flex-column flex-md-row align-items-center mb-3\"},[_c('span',{staticClass:\"mb-2 mb-md-0\"},[_vm._v(\"標題\")]),_c('InputText',{staticClass:\"ms-md-3 flex-grow-1\",model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('Textarea',{staticStyle:{\"width\":\"80%\",\"height\":\"150px\",\"resize\":\"none\",\"border-radius\":\"0\"},attrs:{\"placeholder\":\"錯誤描述\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('Button',{staticClass:\"p-button-rounded p-button-raised\",attrs:{\"label\":\"送出\",\"disabled\":_vm.sending},on:{\"click\":_vm.sendReport}}),_c('Toast',{attrs:{\"position\":\"top-center\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"bugReport\">\n    <div class=\"d-flex flex-column justify-content-center align-items-center mb-3\">\n      <h1>錯誤回報</h1>\n      <div class=\"d-flex flex-column flex-md-row align-items-center mb-3\">\n        <span class=\"mb-2 mb-md-0\">標題</span>\n        <InputText v-model=\"title\" class=\"ms-md-3 flex-grow-1\"/>\n      </div>\n      <Textarea v-model=\"text\" placeholder=\"錯誤描述\" style=\"width: 80%; height: 150px; resize: none; border-radius: 0\"/>\n    </div>\n    <Button label=\"送出\" @click=\"sendReport\" :disabled=\"sending\" class=\"p-button-rounded p-button-raised\"/>\n    <Toast position=\"top-center\" />\n  </div>\n</template>\n\n<script>\nimport { required } from 'vuelidate/lib/validators'\n\nexport default {\n  data () {\n    return {\n      sending: false,\n      title: '',\n      text: ''\n    }\n  },\n  validations: {\n    title: { required },\n    text: { required }\n  },\n  methods: {\n    async sendReport () {\n      try {\n        if (this.sending) return\n\n        this.$v.$touch()\n        if (this.$v.$error) {\n          if (this.$v.title.$error) {\n            this.$toast.add({ severity: 'error', summary: '錯誤', detail: '標題不可為空', life: 3000 })\n          } else if (this.$v.text.$error) {\n            this.$toast.add({ severity: 'error', summary: '錯誤', detail: '內容不可為空', life: 3000 })\n          }\n          return\n        }\n\n        const result = await this.$swal({\n          icon: 'warning',\n          title: '是否確定送出?',\n          showCancelButton: true\n        })\n        if (result.isDismissed) return\n\n        this.sending = true\n        await this.serverAPI.post('/reports/createReport',\n          {\n            title: this.title,\n            text: this.text\n          }, {\n            headers: {\n              authorization: 'Bearer ' + this.userInfo.token\n            }\n          })\n        this.sending = false\n\n        this.title = ''\n        this.text = ''\n\n        this.$swal({\n          icon: 'success',\n          title: '成功',\n          text: '送出成功'\n        })\n      } catch (error) {\n        this.sending = false\n\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: error.response.data.message\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BugReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BugReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BugReport.vue?vue&type=template&id=322b7813&\"\nimport script from \"./BugReport.vue?vue&type=script&lang=js&\"\nexport * from \"./BugReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}